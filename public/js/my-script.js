function loadAllNotification(e){var i=baseUrl+"/getNotification/"+myId;$.ajax({type:"GET",url:i,dataType:"json",success:function(i){e.html(""),console.log(i);var t=i.list_notis;if(0!=t.length)for(var n=0;n<t.length;n++){if(console.log("read: "+t[n].read),0==t[n].read)o="";else{console.log("read !0: "+t[n].read);var o="seen-noti"}if("userCommentNotification"==t[n].type_noti)var a=0,s=baseUrl+"/reading/readingViewSolutionLesson/"+t[n].lesson_id+"-"+t[n].quiz_id+"?question="+t[n].question_id+"&comment="+t[n].comment_id,r="<strong>"+t[n].username_cmt+" </strong> commented on <strong>"+t[n].lesson_title+" lesson</strong>",d=t[n].noti_id;e.append('<div class="item-notification no-read '+o+'" onclick="readNotification('+a+", "+d+')"><a href="'+s+'" class="link-to-noti"><span class="img-user-send-noti img-auto-center"><img alt="'+t[n].username_cmt+'" src='+t[n].avatar_user+'"/public/storage/img/users/" class="img-user-noti-header img-auto-center-inner" /></span><span class="item-content-noti"><div class="item-body-noti">'+r+'</div><div class="item-time-noti"><span class="img-time-noti"><img alt="time-noti" src="/public/imgs/original/time.png" class="img-time-noti" /></span><span class="time-ago-noti">'+t[n].noti_updated+'</span></div></span><span class="img-auto-center img-lesson-preview"><img alt="'+t[n].lesson_title+'" src="/storage/upload/images/img-feature/'+t[n].image_lesson_feature+'" class="img-lesson-preview-header img-auto-center-inner" /></span></a></div>')}},error:function(e){console.log("Error:",e)}})}function readNotification(e,i){var t=baseUrl+"/readNotification/"+e+"--"+i;$.ajax({type:"GET",url:t,dataType:"json",success:function(e){console.log("Success:",e)},error:function(e){console.log("Error:",e)}})}function markAllNotificationAsRead(){var e=baseUrl+"/markAllNotificationAsRead";$.ajax({type:"GET",url:e,dataType:"json",success:function(e){$("sup.total-noti").each(function(){$(this).hide()}),$(".item-notification.no-read").each(function(){$(this).removeClass("no-read"),$(this).addClass("seen-noti")})},error:function(e){console.log("Error:",e)}})}var myId=$("#userNotiAction").data("user-id"),baseUrl=document.location.origin,noti_container="",noti_header="",noti_area="",noti_fixed_element="",openNoti=!1,openNotiFixed=!1,isStart=!1;$(".panel-left").resizable({handleSelector:".splitter",resizeHeight:!0}),$(".panel-top").resizable({handleSelector:".splitter-horizontal",resizeWidth:!1}),jQuery("document").ready(function(e){var i=e(".menu-reading");e("#myTabReading a:not(.reading-test-quiz)").on("shown.bs.tab",function(t){e(window).scroll(function(){e(this).scrollTop()>139?(i.addClass("reading-header-fixed"),e(".left-custom #notifications-container-menu").hide(),e(".left-custom .noti-status").removeClass("white-font-class"),openNoti=!1):(i.removeClass("reading-header-fixed"),e(".action-user-center-fixed #notifications-container-menu").hide(),e(".action-user-center-fixed .noti-status").removeClass("white-font-class"),openNotiFixed=!1)})}),e("#myTabReading a.reading-test-quiz").on("shown.bs.tab",function(i){e(window).unbind("scroll"),e("footer.navbar-fixed-bottom").addClass("hidden"),e("body").addClass("overflow-hidden-class")}),e("#myTabReading a.reading-solution-quiz").on("shown.bs.tab",function(i){e("footer.navbar-fixed-bottom").addClass("hidden")}),e("#myTabReading a:not(.reading-test-quiz)").click(function(){e("header#header").removeClass("hidden"),e(".menu-reading").removeClass("reading-header-fixed"),e("footer.navbar-fixed-bottom").removeClass("hidden"),e("body").removeClass("overflow-hidden-class")}),e("#myTabReading a.reading-test-quiz").click(function(){isStart&&(e("header#header").addClass("hidden"),e(".menu-reading").addClass("reading-header-fixed")),e("body").addClass("overflow-hidden-class"),e("footer.navbar-fixed-bottom").addClass("hidden")}),e("#myTabReading a.reading-solution-quiz").click(function(){e("footer.navbar-fixed-bottom").addClass("hidden")})}),$(document).mouseup(function(e){var i=$(".left-custom .notification-status"),t=$(".action-user-center-fixed .notification-status");i.is(e.target)||0!==i.has(e.target).length||(openNoti=!1,$("#notifications-container-menu").hide(),$(".noti-status").removeClass("white-font-class")),t.is(e.target)||0!==t.has(e.target).length||(openNotiFixed=!1,$(".action-user-center-fixed #notifications-container-menu").hide(),$(".action-user-center-fixed .noti-status").removeClass("white-font-class")),$(".btn-lesson-menu").click(function(){if($(".type-lesson-header").hasClass("question-header")){var e=$(".type-lesson-header").data("type-question-id");$(".item-type-question-"+e).addClass("active-custom")}else $(".type-lesson-header").hasClass("mix-test-header")?$(".mix-test-lesson-reading").addClass("active-custom"):$(".full-test-lesson-reading").addClass("active-custom")})}),$(".noti-status").click(function(e){e.preventDefault(),noti_header=$(this).parent(".notification-status"),noti_fixed_element=$(this).parents(".action-user-center-fixed"),noti_area=noti_header.find("#listNotiArea"),noti_container=noti_header.find("#notifications-container-menu"),noti_fixed_element.length>0?openNotiFixed?(openNotiFixed=!1,$(".action-user-center-fixed #notifications-container-menu").hide(),$(this).removeClass("white-font-class")):(openNotiFixed=!0,$(".action-user-center-fixed #notifications-container-menu").show(),$(this).addClass("white-font-class")):openNoti?(openNoti=!1,noti_container.hide(),$(this).removeClass("white-font-class")):(openNoti=!0,noti_container.show(),$(this).addClass("white-font-class")),loadAllNotification(noti_area)});